<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Mandelbrot Set</title>
    <link href="main.css" rel="stylesheet">
    <script defer src="main.js"></script>
    <script defer src="math.override.js"></script>
    <script defer src="controls.js"></script>
    <script src="https://unpkg.com/gpu.js@latest/dist/gpu-browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
          rel="stylesheet"/>
</head>
<body>
<canvas id="mandelbrot-canvas"></canvas>
<div class="wrapper">
    <div class="empty"></div>
    <section id="settings" class="settings">
        <h1 class="title">Settings</h1>

        <section class="settings">
            <h2 class="title">Background Color</h2>
            <span>Change the color of the pixels that are not generated by the mandelbrot set.</span>
            <div style="display: grid; grid-template-columns: 1fr 1fr">
                <label for="bg-red">Red</label>
                <input id="bg-red" max="1" min="0" oninput="update()" step="0.01" type="range" value="1">

                <label for="bg-green">Green</label>
                <input id="bg-green" max="1" min="0" oninput="update()" step="0.01" type="range" value="1">

                <label for="bg-blue">Blue</label>
                <input id="bg-blue" max="1" min="0" oninput="update()" step="0.01" type="range" value="1">
            </div>
        </section>

        <section class="settings">
            <h2 class="title">Color Factors</h2>
            <span>Change how much of each color should be present in the generated image.</span>
            <div style="display: grid; grid-template-columns: 1fr 1fr">
                <label for="red-factor">Red</label>
                <input id="red-factor" max="100" min="1" oninput="update()" type="range" value="80">

                <label for="green-factor">Green</label>
                <input id="green-factor" max="100" min="1" oninput="update()" type="range" value="10">

                <label for="blue-factor">Blue</label>
                <input id="blue-factor" max="100" min="1" oninput="update()" type="range" value="80">
            </div>
        </section>

        <section class="settings">
            <h2 class="title">Position</h2>

            <div style="display: grid; grid-template-columns: 1fr 1fr">
                <label for="pos-x">Position X</label>
                <input id="pos-x" max="1.5" min="-1.5" oninput="update()" step="0.1" type="number" value="0">

                <label for="pos-y">Position Y</label>
                <input id="pos-y" max="1.5" min="-1.5" oninput="update()" step="0.1" type="number" value="0">

                <label for="zoom">Zoom</label>
                <input id="zoom" name="zoom" oninput="update()" step="1" type="number" value="6">
            </div>

            <h3 class="title">Zoom Function</h3>
            <label style="margin-right: auto;">
                <input name="zoom-function"
                       oninput="update()"
                       type="radio"
                       value="x => x">
                Linear
            </label>
            <label style="margin-right: auto;">
                <input checked
                       name="zoom-function"
                       oninput="update()"
                       type="radio"
                       value="x => Math.exp(x)">
                Exponential
            </label>
            <label style="margin-right: auto;">
                <input name="zoom-function"
                       oninput="update()"
                       type="radio"
                       value="x => Math.fac(x)">
                Factorial
            </label>
            <label style="margin-right: auto;">
                <input id="custom-zoom-func-radio-btn"
                       name="zoom-function"
                       oninput="update()"
                       type="radio"
                       value="">
                Custom
            </label>
            <label>
                Custom zoom function (Hint: Argument is called "x")
                <input onchange="setCustomZoomFunction(event.target.value)"
                       type="text">
            </label>
        </section>

        <button id="show-sidebar-btn-open"
                class="show-sidebar-btn"
                onclick="toggleShowSideBarBtn()"
                type="button">
            <span class="material-symbols-outlined">chevron_left</span>
        </button>
        <button id="show-sidebar-btn-closed" class="show-sidebar-btn"
                onclick="toggleShowSideBarBtn()"
                style="display: none"
                type="button">
            <span class="material-symbols-outlined">chevron_right</span>
        </button>
    </section>
</div>
</body>
</html>
